<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Facelet Title</title>
        <h:outputStylesheet library="css" name="style.css"/>
        <h:outputStylesheet library="css" name="bootstrap.min.css" />
        <h:outputScript library="js" name="jquery-3.2.1.min.js" />
        <h:outputScript library="js" name="bootstrap.min.js" />
        <h:outputScript library="js" name="script.js"/>
        <h:outputScript library="js" name="myjquery.js"/>
        <style>
            .black{
                color:black;
            }
        </style>
    </h:head>
    <h:body>
        <ui:decorate template="template.xhtml">
            <ui:define name="centerContent">
                <h:form id="editform"   class="form-inline">

                    <div  style="width: 15%;margin-left: 10px;margin-top: 100px; margin-left: 150px;">
                        <ul class="nav nav-pills nav-stacked">
                            <li id="li1" class="active dwe"><a href="#home">编辑资料</a></li>
                            <li id="li2" class="dwe"><a  href="#aa">申请成为需求者</a></li>
                            <li id="li3" class="dwe"><a href="#bb">查看接受支教贴记录</a></li> 
                            <li id="li4" class="dwe"><a href="#cc">写日志</a></li>  
                            <li id="li5" class="dwe"><a href="#dd">查看历史日志</a></li>
                            <li id="li6" class="dwe"><a href="#ee"><span class="badge pull-right">#{receiveChatBean.num}</span>收件箱</a></li>
                        </ul>
                    </div>
                </h:form>
                <h:form id="editformdiv1" class="form-inline">
                    <div id="home" class="container ddd1" style="width: 25%;margin-left: 550px;margin-top: -270px;margin-bottom: 60px; ">
                        <h:outputLabel value="姓名:" for="qqt" style="margin-left: 42px"/>&nbsp;&nbsp;
                        <h:inputText id="qqt" class="form-control"   readonly="true"
                                     required="true"   value="#{loginBean.user.userRealName}">
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="性别:" for="qqt1" style="margin-left: 42px"/>&nbsp;&nbsp;
                        <h:inputText id="qqt1" class="form-control"  readonly="true"
                                     required="true" value="#{loginBean.user.userGender}">
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="身份证号码:" for="qqt5"/>&nbsp;&nbsp;
                        <h:inputText id="qqt5" class="form-control"  readonly="true"
                                     required="true"   value="#{loginBean.user.userCard}" >
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="昵称:" for="qqt2" style="margin-left: 42px"/>&nbsp;&nbsp;                       
                        <h:inputText id="qqt2" class="form-control" pt:placeholder="昵称" requiredMessage="不能为空" 
                                     required="true"   value="#{loginBean.user.userName}" readonly="#{loginBean.show}">
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="联系电话:" for="qqt3" style="margin-left: 14px"/>&nbsp;&nbsp;
                        <h:inputText id="qqt3" class="form-control" pt:placeholder="联系电话" requiredMessage="不能为空" 
                                     required="true"   value="#{loginBean.user.userTel}" readonly="#{loginBean.show}">
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="邮箱:" for="qqt4" style="margin-left: 42px"/>&nbsp;&nbsp;
                        <h:inputText id="qqt4" class="form-control" pt:placeholder="邮箱" requiredMessage="不能为空" 
                                     required="true"   value="#{loginBean.user.userEmail}" readonly="#{loginBean.show}">
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="所在城市:" for="qqt6" style="margin-left: 14px"/>&nbsp;&nbsp;
                        <h:inputText id="qqt6" class="form-control" pt:placeholder="所在城市" requiredMessage="不能为空" 
                                     required="true"  value="#{loginBean.user.userCity}" readonly="#{loginBean.show}">
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="职业:" for="qqt7" style="margin-left: 42px"/>&nbsp;&nbsp;
                        <h:inputText id="qqt7" class="form-control" pt:placeholder="职业" requiredMessage="不能为空" 
                                     required="true"   value="#{loginBean.user.userOccupation}" readonly="#{loginBean.show}">
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="出生年月:" for="qqt8" style="margin-left: 14px"/>&nbsp;&nbsp;
                        <h:inputText id="qqt8" class="form-control" pt:placeholder="出生年月" requiredMessage="不能为空"
                                     readonly="true"   value="#{loginBean.user.userBirtnday}">
                        </h:inputText>
                        <br/><br/> <br/><br/>
                        <div style="margin-left: 225px;">
                            <f:ajax render="editformdiv1">
                                <h:commandButton class="btn btn-primary btn-danger" value="编辑" action="#{loginBean.edit}" rendered="#{loginBean.show}"/>
                            </f:ajax>
                            <f:ajax execute="editformdiv1" render="editformdiv1">
                                <h:commandButton class="btn btn-primary btn-success"  action="#{loginBean.save()}" value="保存" rendered="#{!loginBean.show}"/>
                            </f:ajax>
                        </div>
                    </div>
                </h:form>
                <h:form id="editformdiv2" class="form-inline" enctype="multipart/form-data">

                    <div id="aa" class="container ddd" style="width: 25%;margin-left: 550px;margin-top: -270px;margin-bottom: 60px; ">
                        <h:outputLabel value="上传身份证照片：" for="qa6" style="margin-left: -30px"/>&nbsp;&nbsp;
                        <h:inputFile id="qa6" value="#{applyBean.demandapply.daidcardPhoto}" style="margin-left: 88px;margin-top: -25px;"/>
                        <br/> <br/>
                        <h:outputLabel value="个人简述:" for="qa3" style="margin-left: 12px"/>&nbsp;&nbsp;
                        <br/><br/>
                        <h:inputTextarea id="qa3" class="form-control" pt:placeholder="个人简述(字数不超过100)" requiredMessage="不能为空" 
                                         required="true" cols="60" rows="10" value="#{applyBean.demandapply.dapersonDescribe}" >
                        </h:inputTextarea>
                        <br/><br/> <br/><br/>
                        <div style="margin-left: 150px;">                           
                            <h:commandButton class="btn btn-primary btn-lg"  action="#{applyBean.submitAplDemander()}" value="提交"/>                          
                        </div>
                    </div>
                </h:form>



                <h:form id="editformdiv3" class="form-inline">
                    <div id="bb" class="container ddd" style="width: 60%;margin-left: 460px;margin-top: -180px;margin-bottom: 500px;">
                        <div style="margin-top: -120px;margin-left: -40px;">
                            <h1>帖子</h1>
                            <table class="table">
                                <tr>
                                    <th>贴子标题</th>
                                    <th>接帖时间</th>                                  
                                    <th>操作</th>
                                </tr>
                                <c:forEach items="#{signUpBean.listspesignup}" var="u">
                                    <tr>
                                        <td>#{u.speTitle}</td>
                                        <td>#{u.id.sstime}</td>                                                           
                                        <td>    
                                            <f:ajax render="editformdiv3">
                                            <h:commandLink value="退帖" action="#{signUpBean.DeleteSignUp(u)}"/>
                                            </f:ajax>
                                        </td>
                                    </tr>
                                </c:forEach>
                            </table>

                        </div>

                    </div>
                </h:form>


                <h:form id="editformdiv4" class="form-inline" enctype="multipart/form-data">
                    <div id="cc" class="container ddd" style="width: 60%;margin-left: 460px;margin-top: -280px;margin-bottom: 200px;">
                        <h:outputLabel value="日志标题:" for="qqtt" style="margin-left: 42px"/>&nbsp;&nbsp;
                        <h:inputText id="qqtt" class="form-control" 
                                     required="true"   value="#{journalBean.jou.speTitle}">
                        </h:inputText>
                        <br/><br/>
                        <h:outputLabel value="日志相关:" for="qqtt1" style="margin-left: 42px"/>&nbsp;&nbsp;
                        <h:inputFile id="qqtt1" style="margin-left: 130px;margin-top: -25px;"
                                     value="#{journalBean.jou.jourAbout}">
                        </h:inputFile>
                        <br/><br/>
                        <h:outputLabel value="日志内容:" for="qat3" style="margin-left: 42px"/>&nbsp;&nbsp;
                        <br/><br/>
                        <h:inputTextarea id="qat3" class="form-control" pt:placeholder="请在此处填写" requiredMessage="不能为空" 
                                         required="true" cols="150" rows="30" value="#{journalBean.jou.jourContent}">
                        </h:inputTextarea>
                        <br/><br/><br/>
                        <f:ajax execute="editformdiv4"> 
                            <h:commandButton value="提交" class="btn btn-primary btn-lg" action="#{journalBean.saveJournal()}" style="margin-left: 980px;"/>
                        </f:ajax>

                    </div>
                </h:form>

                <h:form id="editformdiv5" class="form-inline">
                    <div id="dd" class="container ddd" style="width: 60%;margin-left: 460px;margin-top: -150px;margin-bottom: 500px;">
                        <div style="margin-top: -160px;margin-left: -40px;">
                            <h1>日志历史记录</h1>
                            <table class="table">
                                <tr>
                                    <th>日志标题</th>
                                    <th>日志发表时间</th>                                
                                    <th>操作</th>
                                </tr>
                                <c:forEach items="#{lookHistoryJournalBean.listjournal}" var="u">
                                    <tr>
                                        <td>#{u.speTitle}</td>
                                        <td>#{u.id.jourTime}</td>                                                              
                                   
                                        <td><h:commandLink value="查看" action="#{lookHistoryJournalBean.detailedJournal(u)}"/>&nbsp;&nbsp;
                                            <f:ajax render="editformdiv5">
                                                <h:commandLink value="删除" action="#{lookHistoryJournalBean.deleteJournal(u)}"/>
                                            </f:ajax>
                                        </td>
                                    </tr>
                                </c:forEach>
                            </table>

                        </div>

                    </div>
                </h:form>

              <h:form id="editformdiv6" class="form-inline">
                    <div id="ee" class="container ddd" style="width: 60%;margin-left: 460px;margin-top: -150px;margin-bottom: 500px; ">
                        <div style="margin-top: -160px;margin-left: -40px;">
                            <h1>收件箱</h1>
                            <table class="table">
                                <tr>
                                    <th>发件人</th>
                                    <th>发件时间</th>
                                    <th>内容</th>
                                    <th>操作</th>
                                </tr>
                                <c:forEach items="#{receiveChatBean.meslist}" var="u">
                                    <tr>
                                        <td>#{u.id.moutId}</td>
                                        <td>#{u.id.mtime}</td>                        
                                        <td>#{u.mcontent.substring(0,3)}.......</td>

                                        <td><h:commandLink value="查看" action="#{receiveChatBean.lookdetailedMessage(u)}"/>&nbsp;&nbsp;
                                            <f:ajax render="editformdiv6">
                                                <h:commandLink value="删除" action="#{receiveChatBean.deleteMessage(u)}"/>
                                            </f:ajax>
                                        </td>
                                    </tr>
                                </c:forEach>
                            </table>
                        </div>
                    </div>
                </h:form>



            </ui:define>
        </ui:decorate>
    </h:body>
</html>



